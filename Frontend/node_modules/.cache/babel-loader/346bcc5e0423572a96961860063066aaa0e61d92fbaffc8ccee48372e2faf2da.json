{"ast":null,"code":"import React from'react';import{useState,useEffect}from'react';import Welcompage from'./Welcompage';import{useNavigate,Routes,Route}from'react-router-dom';import Seller from'./Seller/Seller';import User from'./User/User';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const navigate=useNavigate();const[currentUser,setCurrentUser]=useState(null);// Check for stored token on mount\nuseEffect(()=>{const token=localStorage.getItem('token');const user=localStorage.getItem('user');if(token&&user){try{setCurrentUser(JSON.parse(user));}catch(error){console.error('Error parsing stored user:',error);localStorage.removeItem('token');localStorage.removeItem('user');}}},[]);const handleCustomerSelect=()=>navigate('/User');const handleSellerSelect=()=>navigate('/Seller');const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');setCurrentUser(null);navigate('/');};const handleLogin=user=>{setCurrentUser(user);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Welcompage,{onCustomerSelect:handleCustomerSelect,onSellerSelect:handleSellerSelect})}),/*#__PURE__*/_jsx(Route,{path:\"/User/*\",element:/*#__PURE__*/_jsx(User,{currentUser:currentUser,onLogout:handleLogout,onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/Seller/*\",element:/*#__PURE__*/_jsx(Seller,{currentUser:currentUser,onLogout:handleLogout,onLogin:handleLogin})})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Welcompage","useNavigate","Routes","Route","Seller","User","jsx","_jsx","jsxs","_jsxs","App","navigate","currentUser","setCurrentUser","token","localStorage","getItem","user","JSON","parse","error","console","removeItem","handleCustomerSelect","handleSellerSelect","handleLogout","handleLogin","children","path","element","onCustomerSelect","onSellerSelect","onLogout","onLogin"],"sources":["D:/Projects/luxora/luxora/Frontend/src/App.js"],"sourcesContent":["import React from 'react'\r\nimport { useState,useEffect } from 'react'\r\nimport Welcompage from './Welcompage'\r\nimport { useNavigate, Routes, Route } from 'react-router-dom' \r\nimport Seller from './Seller/Seller'\r\nimport User from './User/User'\r\n\r\nconst App = () => {\r\n  const navigate = useNavigate();\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n\r\n  // Check for stored token on mount\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    const user = localStorage.getItem('user');\r\n    \r\n    if (token && user) {\r\n      try {\r\n        setCurrentUser(JSON.parse(user));\r\n      } catch (error) {\r\n        console.error('Error parsing stored user:', error);\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleCustomerSelect = () => navigate('/User');\r\n  const handleSellerSelect = () => navigate('/Seller');\r\n  \r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    setCurrentUser(null);\r\n    navigate('/');\r\n  };\r\n\r\n  const handleLogin = (user) => {\r\n    setCurrentUser(user);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <Routes>\r\n      <Route\r\n        path=\"/\"\r\n        element={\r\n          <Welcompage\r\n            onCustomerSelect={handleCustomerSelect}\r\n            onSellerSelect={handleSellerSelect}\r\n          />\r\n        }\r\n      />\r\n      <Route \r\n        path=\"/User/*\" \r\n        element={\r\n          <User \r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n            onLogin={handleLogin}\r\n          />\r\n        } \r\n      />\r\n      <Route \r\n        path=\"/Seller/*\" \r\n        element={\r\n          <Seller \r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n            onLogin={handleLogin}\r\n          />\r\n        } \r\n      />   \r\n    </Routes>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAACC,SAAS,KAAQ,OAAO,CAC1C,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,OAASC,WAAW,CAAEC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAC7D,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,MAAO,CAAAC,IAAI,KAAM,aAAa,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAEpD;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,IAAI,CAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAEzC,GAAIF,KAAK,EAAIG,IAAI,CAAE,CACjB,GAAI,CACFJ,cAAc,CAACK,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC,CAAC,CAClC,CAAE,MAAOG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDL,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC,CAChCP,YAAY,CAACO,UAAU,CAAC,MAAM,CAAC,CACjC,CACF,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAMZ,QAAQ,CAAC,OAAO,CAAC,CACpD,KAAM,CAAAa,kBAAkB,CAAGA,CAAA,GAAMb,QAAQ,CAAC,SAAS,CAAC,CAGpD,KAAM,CAAAc,YAAY,CAAGA,CAAA,GAAM,CACzBV,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC,CAChCP,YAAY,CAACO,UAAU,CAAC,MAAM,CAAC,CAC/BT,cAAc,CAAC,IAAI,CAAC,CACpBF,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,KAAM,CAAAe,WAAW,CAAIT,IAAI,EAAK,CAC5BJ,cAAc,CAACI,IAAI,CAAC,CACtB,CAAC,CAED,mBACEV,IAAA,QAAAoB,QAAA,cACAlB,KAAA,CAACP,MAAM,EAAAyB,QAAA,eACLpB,IAAA,CAACJ,KAAK,EACJyB,IAAI,CAAC,GAAG,CACRC,OAAO,cACLtB,IAAA,CAACP,UAAU,EACT8B,gBAAgB,CAAEP,oBAAqB,CACvCQ,cAAc,CAAEP,kBAAmB,CACpC,CACF,CACF,CAAC,cACFjB,IAAA,CAACJ,KAAK,EACJyB,IAAI,CAAC,SAAS,CACdC,OAAO,cACLtB,IAAA,CAACF,IAAI,EACHO,WAAW,CAAEA,WAAY,CACzBoB,QAAQ,CAAEP,YAAa,CACvBQ,OAAO,CAAEP,WAAY,CACtB,CACF,CACF,CAAC,cACFnB,IAAA,CAACJ,KAAK,EACJyB,IAAI,CAAC,WAAW,CAChBC,OAAO,cACLtB,IAAA,CAACH,MAAM,EACLQ,WAAW,CAAEA,WAAY,CACzBoB,QAAQ,CAAEP,YAAa,CACvBQ,OAAO,CAAEP,WAAY,CACtB,CACF,CACF,CAAC,EACI,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}