{"ast":null,"code":"import _objectSpread from\"D:/Projects/luxora/luxora/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{useState}from'react';import{Upload,Image as ImageIcon,Trash2}from'lucide-react';import{API_URL}from'../Config/config';import Swal from'sweetalert2';import'./CssPage/ProductUpload.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductUpload=_ref=>{let{currentSeller}=_ref;const[formData,setFormData]=useState({name:'',description:'',category:'',price:'',originalPrice:'',stock:'',brand:'',images:[]});const[imagePreviews,setImagePreviews]=useState([]);const[errors,setErrors]=useState({});const[loading,setLoading]=useState(false);const[uploadingImages,setUploadingImages]=useState(false);const categories=['Electronics','Clothing','Home & Garden','Sports','Books','Toys','Food','Beauty','Accessories','Other'];// Handle form input changes\nconst handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear error for this field\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};// Convert file to Base64\nconst convertToBase64=file=>{return new Promise((resolve,reject)=>{const reader=new FileReader();reader.onerror=()=>{reader.abort();reject(new Error('Failed to read file'));};reader.onload=()=>{try{resolve(reader.result);}catch(error){reject(error);}};reader.readAsDataURL(file);});};// Handle Image Upload\nconst handleImageUpload=async e=>{const files=Array.from(e.target.files);if(files.length===0)return;// Validate file types\nconst validTypes=['image/jpeg','image/jpg','image/png','image/webp','image/gif'];const invalidFiles=files.filter(file=>!validTypes.includes(file.type));if(invalidFiles.length>0){Swal.fire({icon:'error',title:'Invalid File Type',text:'Please upload only image files (JPEG, PNG, WebP, GIF)',confirmButtonColor:'#ef4444'});return;}// Validate file size\nconst oversizedFiles=files.filter(file=>file.size>5*1024*1024);if(oversizedFiles.length>0){Swal.fire({icon:'error',title:'File Too Large',text:'Each image must be less than 5MB',confirmButtonColor:'#ef4444'});return;}setUploadingImages(true);try{// Create preview URLs\nconst newPreviews=files.map(file=>URL.createObjectURL(file));setImagePreviews(prev=>[...prev,...newPreviews]);// Convert files to Base64\nconst base64Images=await Promise.all(files.map(file=>convertToBase64(file)));// Update form data with new images\nsetFormData(prev=>_objectSpread(_objectSpread({},prev),{},{images:[...prev.images,...base64Images]}));// Clear any existing image errors\nif(errors.images){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{images:''}));}// Show success message\nSwal.fire({icon:'success',title:'Images Uploaded!',text:\"\".concat(files.length,\" image(s) added successfully\"),timer:2000,showConfirmButton:false});}catch(error){console.error('Error uploading images:',error);Swal.fire({icon:'error',title:'Upload Failed',text:'Error processing images. Please try again.',confirmButtonColor:'#ef4444'});// Remove previews on error\nsetImagePreviews(prev=>prev.slice(0,prev.length-files.length));}finally{setUploadingImages(false);}};// Remove specific image\nconst removeImage=index=>{Swal.fire({title:'Remove Image?',text:'Are you sure you want to remove this image?',icon:'warning',showCancelButton:true,confirmButtonColor:'#ef4444',cancelButtonColor:'#6b7280',confirmButtonText:'Yes, remove it!'}).then(result=>{if(result.isConfirmed){// Revoke object URL\nURL.revokeObjectURL(imagePreviews[index]);// Update state\nsetImagePreviews(prev=>prev.filter((_,i)=>i!==index));setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{images:prev.images.filter((_,i)=>i!==index)}));Swal.fire({icon:'success',title:'Removed!',text:'Image has been removed.',timer:1500,showConfirmButton:false});}});};// Validate form\nconst validateForm=()=>{const newErrors={};if(!formData.name.trim())newErrors.name='Product name is required';if(!formData.description.trim())newErrors.description='Description is required';if(!formData.category)newErrors.category='Category is required';if(!formData.price)newErrors.price='Price is required';if(isNaN(parseFloat(formData.price))||parseFloat(formData.price)<0)newErrors.price='Price must be a valid positive number';if(!formData.stock)newErrors.stock='Stock quantity is required';if(isNaN(parseInt(formData.stock))||parseInt(formData.stock)<0)newErrors.stock='Stock must be a valid number';if(!formData.brand.trim())newErrors.brand='Brand name is required';if(formData.originalPrice&&isNaN(parseFloat(formData.originalPrice)))newErrors.originalPrice='Original price must be a valid number';if(formData.images.length<4){newErrors.images='At least 4 product images are required';}return newErrors;};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();const newErrors=validateForm();if(Object.keys(newErrors).length===0){setLoading(true);// Show loading alert\nSwal.fire({title:'Uploading Product...',html:'Please wait while we process your product',allowOutsideClick:false,didOpen:()=>{Swal.showLoading();}});try{// Get authentication token\nconst token=localStorage.getItem('sellerToken')||localStorage.getItem('token');if(!token){Swal.fire({icon:'error',title:'Authentication Required',text:'You must be logged in to upload a product',confirmButtonColor:'#ef4444'});setLoading(false);return;}// Prepare product data\nconst productData={name:formData.name.trim(),description:formData.description.trim(),category:formData.category,price:parseFloat(formData.price),originalPrice:formData.originalPrice?parseFloat(formData.originalPrice):parseFloat(formData.price),stock:parseInt(formData.stock),brand:formData.brand.trim(),images:formData.images};console.log('[ProductUpload] Using API_URL:',API_URL);console.log('[ProductUpload] Submitting to:',\"\".concat(API_URL,\"/products\"));// Submit to API\nconst response=await fetch(\"\".concat(API_URL,\"/products\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(productData)});const data=await response.json();if(response.ok){// Show success alert\nSwal.fire({icon:'success',title:'Product Uploaded Successfully!',html:\"<b>\".concat(formData.name,\"</b> has been added to your store\"),confirmButtonColor:'#10b981',confirmButtonText:'Great!'});// Clean up preview URLs\nimagePreviews.forEach(url=>URL.revokeObjectURL(url));// Reset form\nsetFormData({name:'',description:'',category:'',price:'',originalPrice:'',stock:'',brand:'',images:[]});setImagePreviews([]);setErrors({});}else{Swal.fire({icon:'error',title:'Upload Failed',text:data.message||'Failed to upload product. Please try again.',confirmButtonColor:'#ef4444'});}}catch(error){console.error('Error uploading product:',error);Swal.fire({icon:'error',title:'Network Error',text:'Error uploading product. Please check your connection and try again.',confirmButtonColor:'#ef4444'});}finally{setLoading(false);}}else{setErrors(newErrors);// Show first error as alert\nconst firstErrorKey=Object.keys(newErrors)[0];const firstError=newErrors[firstErrorKey];Swal.fire({icon:'warning',title:'Validation Error',text:firstError,confirmButtonColor:'#f59e0b'});}};// Handle clear form\nconst handleClearForm=()=>{imagePreviews.forEach(url=>URL.revokeObjectURL(url));setFormData({name:'',description:'',category:'',price:'',originalPrice:'',stock:'',brand:'',images:[]});setImagePreviews([]);setErrors({});};return/*#__PURE__*/_jsx(\"div\",{className:\"product-upload-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-upload-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"upload-title\",children:\"\\uD83D\\uDCE6 Upload New Product\"}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-subtitle\",children:\"Add a new product to your store inventory\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"upload-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Product Name \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Enter product name\",className:\"form-input \".concat(errors.name?'error':'')}),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Description \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleChange,placeholder:\"Describe your product in detail\",rows:\"5\",className:\"form-input form-textarea \".concat(errors.description?'error':'')}),errors.description&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errors.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Category \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:formData.category,onChange:handleChange,className:\"form-input form-select \".concat(errors.category?'error':''),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a category\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]}),errors.category&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errors.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Brand \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"brand\",value:formData.brand,onChange:handleChange,placeholder:\"Enter brand name\",className:\"form-input \".concat(errors.brand?'error':'')}),errors.brand&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errors.brand})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Price (\\u20B9) \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:formData.price,onChange:handleChange,placeholder:\"0.00\",step:\"0.01\",className:\"form-input \".concat(errors.price?'error':'')}),errors.price&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errors.price})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Original Price (\\u20B9)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"originalPrice\",value:formData.originalPrice,onChange:handleChange,placeholder:\"For discount calculation\",step:\"0.01\",className:\"form-input \".concat(errors.originalPrice?'error':'')}),errors.originalPrice&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errors.originalPrice})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Stock Quantity \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"stock\",value:formData.stock,onChange:handleChange,placeholder:\"Enter stock quantity\",className:\"form-input \".concat(errors.stock?'error':'')}),errors.stock&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errors.stock})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Product Images \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"}),\" (Minimum 4 required)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-section\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"upload-button\",children:[/*#__PURE__*/_jsx(ImageIcon,{size:20}),uploadingImages?'Processing...':'Choose Images',/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handleImageUpload,disabled:uploadingImages,className:\"file-input\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-hint\",children:\"\\uD83D\\uDCA1 Accepted formats: JPEG, PNG, WebP, GIF (Max 5MB each)\"})]}),imagePreviews.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"image-grid\",children:imagePreviews.map((preview,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview \".concat(index+1),className:\"preview-img\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeImage(index),className:\"remove-btn\",title:\"Remove image\",children:/*#__PURE__*/_jsx(Trash2,{size:16})}),/*#__PURE__*/_jsx(\"div\",{className:\"image-index\",children:index+1})]},index))}),/*#__PURE__*/_jsxs(\"p\",{className:\"image-count\",children:[\"Uploaded: \",formData.images.length,\" image(s)\",' ',formData.images.length<4&&\"(\".concat(4-formData.images.length,\" more needed)\")]}),errors.images&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errors.images})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading||uploadingImages,className:\"btn-submit\",children:[/*#__PURE__*/_jsx(Upload,{size:20}),loading?'Uploading...':uploadingImages?'Processing Images...':'Upload Product']}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:loading||uploadingImages,onClick:handleClearForm,className:\"btn-clear\",children:\"Clear\"})]})]})]})});};export default ProductUpload;","map":{"version":3,"names":["React","useState","Upload","Image","ImageIcon","Trash2","API_URL","Swal","jsx","_jsx","jsxs","_jsxs","ProductUpload","_ref","currentSeller","formData","setFormData","name","description","category","price","originalPrice","stock","brand","images","imagePreviews","setImagePreviews","errors","setErrors","loading","setLoading","uploadingImages","setUploadingImages","categories","handleChange","e","value","target","prev","_objectSpread","convertToBase64","file","Promise","resolve","reject","reader","FileReader","onerror","abort","Error","onload","result","error","readAsDataURL","handleImageUpload","files","Array","from","length","validTypes","invalidFiles","filter","includes","type","fire","icon","title","text","confirmButtonColor","oversizedFiles","size","newPreviews","map","URL","createObjectURL","base64Images","all","concat","timer","showConfirmButton","console","slice","removeImage","index","showCancelButton","cancelButtonColor","confirmButtonText","then","isConfirmed","revokeObjectURL","_","i","validateForm","newErrors","trim","isNaN","parseFloat","parseInt","handleSubmit","preventDefault","Object","keys","html","allowOutsideClick","didOpen","showLoading","token","localStorage","getItem","productData","log","response","fetch","method","headers","body","JSON","stringify","data","json","ok","forEach","url","message","firstErrorKey","firstError","handleClearForm","className","children","onSubmit","onChange","placeholder","rows","cat","step","multiple","accept","disabled","preview","src","alt","onClick"],"sources":["D:/Projects/luxora/luxora/Frontend/src/Seller/ProductUpload.js"],"sourcesContent":["import React from 'react'\r\nimport { useState } from 'react';\r\nimport { Upload, Image as ImageIcon, Trash2 } from 'lucide-react';\r\nimport { API_URL } from '../Config/config';\r\nimport Swal from 'sweetalert2';\r\nimport './CssPage/ProductUpload.css';\r\n\r\nconst ProductUpload = ({ currentSeller }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    category: '',\r\n    price: '',\r\n    originalPrice: '',\r\n    stock: '',\r\n    brand: '',\r\n    images: []\r\n  });\r\n\r\n  const [imagePreviews, setImagePreviews] = useState([]);\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [uploadingImages, setUploadingImages] = useState(false);\r\n\r\n  const categories = [\r\n    'Electronics',\r\n    'Clothing',\r\n    'Home & Garden',\r\n    'Sports',\r\n    'Books',\r\n    'Toys',\r\n    'Food',\r\n    'Beauty',\r\n    'Accessories',\r\n    'Other'\r\n  ];\r\n\r\n  // Handle form input changes\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n\r\n    // Clear error for this field\r\n    if (errors[name]) {\r\n      setErrors(prev => ({ ...prev, [name]: '' }));\r\n    }\r\n  };\r\n\r\n  // Convert file to Base64\r\n  const convertToBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n\r\n      reader.onerror = () => {\r\n        reader.abort();\r\n        reject(new Error('Failed to read file'));\r\n      };\r\n\r\n      reader.onload = () => {\r\n        try {\r\n          resolve(reader.result);\r\n        } catch (error) {\r\n          reject(error);\r\n        }\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n    });\r\n  };\r\n\r\n  // Handle Image Upload\r\n  const handleImageUpload = async (e) => {\r\n    const files = Array.from(e.target.files);\r\n\r\n    if (files.length === 0) return;\r\n\r\n    // Validate file types\r\n    const validTypes = [\r\n      'image/jpeg',\r\n      'image/jpg',\r\n      'image/png',\r\n      'image/webp',\r\n      'image/gif'\r\n    ];\r\n    const invalidFiles = files.filter(file => !validTypes.includes(file.type));\r\n\r\n    if (invalidFiles.length > 0) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Invalid File Type',\r\n        text: 'Please upload only image files (JPEG, PNG, WebP, GIF)',\r\n        confirmButtonColor: '#ef4444'\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Validate file size\r\n    const oversizedFiles = files.filter(file => file.size > 5 * 1024 * 1024);\r\n    if (oversizedFiles.length > 0) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'File Too Large',\r\n        text: 'Each image must be less than 5MB',\r\n        confirmButtonColor: '#ef4444'\r\n      });\r\n      return;\r\n    }\r\n\r\n    setUploadingImages(true);\r\n\r\n    try {\r\n      // Create preview URLs\r\n      const newPreviews = files.map(file => URL.createObjectURL(file));\r\n      setImagePreviews(prev => [...prev, ...newPreviews]);\r\n\r\n      // Convert files to Base64\r\n      const base64Images = await Promise.all(\r\n        files.map(file => convertToBase64(file))\r\n      );\r\n\r\n      // Update form data with new images\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        images: [...prev.images, ...base64Images]\r\n      }));\r\n\r\n      // Clear any existing image errors\r\n      if (errors.images) {\r\n        setErrors(prev => ({ ...prev, images: '' }));\r\n      }\r\n\r\n      // Show success message\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Images Uploaded!',\r\n        text: `${files.length} image(s) added successfully`,\r\n        timer: 2000,\r\n        showConfirmButton: false\r\n      });\r\n    } catch (error) {\r\n      console.error('Error uploading images:', error);\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Upload Failed',\r\n        text: 'Error processing images. Please try again.',\r\n        confirmButtonColor: '#ef4444'\r\n      });\r\n      // Remove previews on error\r\n      setImagePreviews(prev =>\r\n        prev.slice(0, prev.length - files.length)\r\n      );\r\n    } finally {\r\n      setUploadingImages(false);\r\n    }\r\n  };\r\n\r\n  // Remove specific image\r\n  const removeImage = (index) => {\r\n    Swal.fire({\r\n      title: 'Remove Image?',\r\n      text: 'Are you sure you want to remove this image?',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#ef4444',\r\n      cancelButtonColor: '#6b7280',\r\n      confirmButtonText: 'Yes, remove it!'\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        // Revoke object URL\r\n        URL.revokeObjectURL(imagePreviews[index]);\r\n\r\n        // Update state\r\n        setImagePreviews(prev => prev.filter((_, i) => i !== index));\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          images: prev.images.filter((_, i) => i !== index)\r\n        }));\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Removed!',\r\n          text: 'Image has been removed.',\r\n          timer: 1500,\r\n          showConfirmButton: false\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  // Validate form\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    if (!formData.name.trim())\r\n      newErrors.name = 'Product name is required';\r\n    if (!formData.description.trim())\r\n      newErrors.description = 'Description is required';\r\n    if (!formData.category)\r\n      newErrors.category = 'Category is required';\r\n    if (!formData.price)\r\n      newErrors.price = 'Price is required';\r\n    if (\r\n      isNaN(parseFloat(formData.price)) ||\r\n      parseFloat(formData.price) < 0\r\n    )\r\n      newErrors.price = 'Price must be a valid positive number';\r\n    if (!formData.stock)\r\n      newErrors.stock = 'Stock quantity is required';\r\n    if (\r\n      isNaN(parseInt(formData.stock)) ||\r\n      parseInt(formData.stock) < 0\r\n    )\r\n      newErrors.stock = 'Stock must be a valid number';\r\n    if (!formData.brand.trim())\r\n      newErrors.brand = 'Brand name is required';\r\n    if (\r\n      formData.originalPrice &&\r\n      isNaN(parseFloat(formData.originalPrice))\r\n    )\r\n      newErrors.originalPrice = 'Original price must be a valid number';\r\n\r\n    if (formData.images.length < 4) {\r\n      newErrors.images = 'At least 4 product images are required';\r\n    }\r\n\r\n    return newErrors;\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newErrors = validateForm();\r\n\r\n    if (Object.keys(newErrors).length === 0) {\r\n      setLoading(true);\r\n\r\n      // Show loading alert\r\n      Swal.fire({\r\n        title: 'Uploading Product...',\r\n        html: 'Please wait while we process your product',\r\n        allowOutsideClick: false,\r\n        didOpen: () => {\r\n          Swal.showLoading();\r\n        }\r\n      });\r\n\r\n      try {\r\n        // Get authentication token\r\n        const token =\r\n          localStorage.getItem('sellerToken') ||\r\n          localStorage.getItem('token');\r\n\r\n        if (!token) {\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Authentication Required',\r\n            text: 'You must be logged in to upload a product',\r\n            confirmButtonColor: '#ef4444'\r\n          });\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // Prepare product data\r\n        const productData = {\r\n          name: formData.name.trim(),\r\n          description: formData.description.trim(),\r\n          category: formData.category,\r\n          price: parseFloat(formData.price),\r\n          originalPrice: formData.originalPrice\r\n            ? parseFloat(formData.originalPrice)\r\n            : parseFloat(formData.price),\r\n          stock: parseInt(formData.stock),\r\n          brand: formData.brand.trim(),\r\n          images: formData.images\r\n        };\r\n\r\n        console.log('[ProductUpload] Using API_URL:', API_URL);\r\n        console.log('[ProductUpload] Submitting to:', `${API_URL}/products`);\r\n\r\n        // Submit to API\r\n        const response = await fetch(`${API_URL}/products`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n          body: JSON.stringify(productData)\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n          // Show success alert\r\n          Swal.fire({\r\n            icon: 'success',\r\n            title: 'Product Uploaded Successfully!',\r\n            html: `<b>${formData.name}</b> has been added to your store`,\r\n            confirmButtonColor: '#10b981',\r\n            confirmButtonText: 'Great!'\r\n          });\r\n\r\n          // Clean up preview URLs\r\n          imagePreviews.forEach(url => URL.revokeObjectURL(url));\r\n\r\n          // Reset form\r\n          setFormData({\r\n            name: '',\r\n            description: '',\r\n            category: '',\r\n            price: '',\r\n            originalPrice: '',\r\n            stock: '',\r\n            brand: '',\r\n            images: []\r\n          });\r\n          setImagePreviews([]);\r\n          setErrors({});\r\n        } else {\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Upload Failed',\r\n            text: data.message || 'Failed to upload product. Please try again.',\r\n            confirmButtonColor: '#ef4444'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error uploading product:', error);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Network Error',\r\n          text: 'Error uploading product. Please check your connection and try again.',\r\n          confirmButtonColor: '#ef4444'\r\n        });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      setErrors(newErrors);\r\n\r\n      // Show first error as alert\r\n      const firstErrorKey = Object.keys(newErrors)[0];\r\n      const firstError = newErrors[firstErrorKey];\r\n\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Validation Error',\r\n        text: firstError,\r\n        confirmButtonColor: '#f59e0b'\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handle clear form\r\n  const handleClearForm = () => {\r\n    imagePreviews.forEach(url => URL.revokeObjectURL(url));\r\n    setFormData({\r\n      name: '',\r\n      description: '',\r\n      category: '',\r\n      price: '',\r\n      originalPrice: '',\r\n      stock: '',\r\n      brand: '',\r\n      images: []\r\n    });\r\n    setImagePreviews([]);\r\n    setErrors({});\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-upload-wrapper\">\r\n      <div className=\"product-upload-container\">\r\n        <h1 className=\"upload-title\">ðŸ“¦ Upload New Product</h1>\r\n        <p className=\"upload-subtitle\">\r\n          Add a new product to your store inventory\r\n        </p>\r\n\r\n        <form onSubmit={handleSubmit} className=\"upload-form\">\r\n          {/* Product Name */}\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">\r\n              Product Name <span className=\"required\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              placeholder=\"Enter product name\"\r\n              className={`form-input ${errors.name ? 'error' : ''}`}\r\n            />\r\n            {errors.name && (\r\n              <p className=\"error-text\">{errors.name}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">\r\n              Description <span className=\"required\">*</span>\r\n            </label>\r\n            <textarea\r\n              name=\"description\"\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              placeholder=\"Describe your product in detail\"\r\n              rows=\"5\"\r\n              className={`form-input form-textarea ${\r\n                errors.description ? 'error' : ''\r\n              }`}\r\n            />\r\n            {errors.description && (\r\n              <p className=\"error-text\">{errors.description}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Category & Brand */}\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">\r\n                Category <span className=\"required\">*</span>\r\n              </label>\r\n              <select\r\n                name=\"category\"\r\n                value={formData.category}\r\n                onChange={handleChange}\r\n                className={`form-input form-select ${\r\n                  errors.category ? 'error' : ''\r\n                }`}\r\n              >\r\n                <option value=\"\">Select a category</option>\r\n                {categories.map(cat => (\r\n                  <option key={cat} value={cat}>\r\n                    {cat}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              {errors.category && (\r\n                <p className=\"error-text\">{errors.category}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">\r\n                Brand <span className=\"required\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"brand\"\r\n                value={formData.brand}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter brand name\"\r\n                className={`form-input ${errors.brand ? 'error' : ''}`}\r\n              />\r\n              {errors.brand && (\r\n                <p className=\"error-text\">{errors.brand}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Price & Original Price */}\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">\r\n                Price (â‚¹) <span className=\"required\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"price\"\r\n                value={formData.price}\r\n                onChange={handleChange}\r\n                placeholder=\"0.00\"\r\n                step=\"0.01\"\r\n                className={`form-input ${errors.price ? 'error' : ''}`}\r\n              />\r\n              {errors.price && (\r\n                <p className=\"error-text\">{errors.price}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">\r\n                Original Price (â‚¹)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"originalPrice\"\r\n                value={formData.originalPrice}\r\n                onChange={handleChange}\r\n                placeholder=\"For discount calculation\"\r\n                step=\"0.01\"\r\n                className={`form-input ${\r\n                  errors.originalPrice ? 'error' : ''\r\n                }`}\r\n              />\r\n              {errors.originalPrice && (\r\n                <p className=\"error-text\">{errors.originalPrice}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stock Quantity */}\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">\r\n              Stock Quantity <span className=\"required\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"stock\"\r\n              value={formData.stock}\r\n              onChange={handleChange}\r\n              placeholder=\"Enter stock quantity\"\r\n              className={`form-input ${errors.stock ? 'error' : ''}`}\r\n            />\r\n            {errors.stock && (\r\n              <p className=\"error-text\">{errors.stock}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Product Images */}\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">\r\n              Product Images <span className=\"required\">*</span> (Minimum 4 required)\r\n            </label>\r\n\r\n            {/* Upload Button */}\r\n            <div className=\"upload-section\">\r\n              <label className=\"upload-button\">\r\n                <ImageIcon size={20} />\r\n                {uploadingImages ? 'Processing...' : 'Choose Images'}\r\n                <input\r\n                  type=\"file\"\r\n                  multiple\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageUpload}\r\n                  disabled={uploadingImages}\r\n                  className=\"file-input\"\r\n                />\r\n              </label>\r\n              <p className=\"upload-hint\">\r\n                ðŸ’¡ Accepted formats: JPEG, PNG, WebP, GIF (Max 5MB each)\r\n              </p>\r\n            </div>\r\n\r\n            {/* Image Previews */}\r\n            {imagePreviews.length > 0 && (\r\n              <div className=\"image-grid\">\r\n                {imagePreviews.map((preview, index) => (\r\n                  <div key={index} className=\"image-card\">\r\n                    <img\r\n                      src={preview}\r\n                      alt={`Preview ${index + 1}`}\r\n                      className=\"preview-img\"\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => removeImage(index)}\r\n                      className=\"remove-btn\"\r\n                      title=\"Remove image\"\r\n                    >\r\n                      <Trash2 size={16} />\r\n                    </button>\r\n                    <div className=\"image-index\">\r\n                      {index + 1}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            <p className=\"image-count\">\r\n              Uploaded: {formData.images.length} image(s){' '}\r\n              {formData.images.length < 4 &&\r\n                `(${4 - formData.images.length} more needed)`}\r\n            </p>\r\n\r\n            {errors.images && (\r\n              <p className=\"error-text\">{errors.images}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Form Actions */}\r\n          <div className=\"form-actions\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || uploadingImages}\r\n              className=\"btn-submit\"\r\n            >\r\n              <Upload size={20} />\r\n              {loading\r\n                ? 'Uploading...'\r\n                : uploadingImages\r\n                ? 'Processing Images...'\r\n                : 'Upload Product'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              disabled={loading || uploadingImages}\r\n              onClick={handleClearForm}\r\n              className=\"btn-clear\"\r\n            >\r\n              Clear\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ProductUpload"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}